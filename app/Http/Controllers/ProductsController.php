<?php
 namespace App\Http\Controllers; use App\Models\categories; use App\Models\products; use App\Models\units; use Illuminate\Http\Request; class ProductsController extends Controller { public function index() { $items = products::all(); $cats = categories::orderBy("\x6e\141\155\x65", "\x61\163\x63")->get(); return view("\160\x72\157\144\x75\143\x74\163\x2e\160\x72\157\144\x75\143\x74", compact("\151\x74\145\x6d\163", "\143\x61\164\163")); } public function create() { } public function store(Request $request) { $request->validate(array("\x63\x6f\144\145" => "\165\x6e\x69\161\x75\x65\72\x70\162\x6f\144\165\x63\164\163\54\143\157\144\145"), array("\x63\157\144\x65\56\x75\x6e\x69\x71\165\145" => "\x50\x72\157\x64\165\143\x74\x20\103\x6f\x64\145\x20\x61\154\162\x65\x61\x64\171\40\x49\x6e\x20\125\x73\145")); products::create($request->all()); return back()->with("\x73\x75\143\143\x65\x73\x73", "\120\x72\x6f\144\x75\143\164\x20\103\162\x65\141\x74\145\x64"); } public function show(products $products) { } public function edit(products $products) { } public function update(Request $request, $id) { $request->validate(array("\143\157\x64\145" => "\165\x6e\x69\x71\x75\x65\x3a\160\162\x6f\144\x75\143\x74\x73\54\143\x6f\144\x65\x2c" . $id), array("\x63\157\144\x65\56\x75\156\x69\x71\x75\145" => "\120\x72\157\x64\165\143\x74\x20\x63\157\x64\x65\x20\x61\154\162\x65\141\144\171\x20\151\x6e\x20\x55\163\145")); $product = products::find($id); $product->update($request->all()); return back()->with("\163\165\x63\143\145\163\163", "\120\162\157\x64\165\x63\164\40\125\x70\144\141\x74\145\144"); } public function destroy(products $products) { } public function ajaxCreate(request $request) { $check = products::where("\156\x61\x6d\145", $request->name)->count(); if ($check > 0) { return response()->json(array("\x72\145\x73\x70\x6f\156\x73\145" => "\105\170\151\163\x74\x73")); } $product = products::create($request->all()); return response()->json(array("\x72\145\x73\x70\x6f\156\x73\145" => $product->id)); } public function barcodePrint($id) { $product = products::find($id); return view("\x70\162\x6f\x64\165\x63\164\x73\56\x62\x61\162\143\x6f\x64\x65", compact("\160\162\x6f\x64\x75\x63\x74")); } public function generateCode() { gen: $value = rand(1111111111, 9999999999); $check = products::where("\x63\157\144\145", "\103{$value}")->count(); if ($check > 0) { goto gen; } return "\103{$value}"; } }
